# SUPPLY NODE

## üßæ –û–ø–∏—Å–∞–Ω–∏–µ

**Supply Node** ‚Äî —ç—Ç–æ Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å REST API –∏ admin-–ø–∞–Ω–µ–ª—å—é, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π —Å–µ—Ç—å—é
–ø–æ—Å—Ç–∞–≤–æ–∫ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏.
–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —É–ø—Ä–∞–≤–ª—è—Ç—å –æ–±—ä–µ–∫—Ç–∞–º–∏ —Å–µ—Ç–∏ (—É–∑–ª–∞–º–∏), –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏, –∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º ‚Äî –æ—á–∏—â–∞—Ç—å
–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏ —á–µ—Ä–µ–∑ `admin-action`.

üìÑ –ü–æ–ª–Ω–æ–µ –¢–ó ‚Äî [TODO.md](readme/TODO.md)

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- **JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
- **CRUD –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å–µ—Ç–∏ (`Node`) –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (`Product`)**
- **–ò–µ—Ä–∞—Ä—Ö–∏—è –ø–æ—Å—Ç–∞–≤–æ–∫:** –∑–∞–≤–æ–¥ ‚Üí –ò–ü ‚Üí —Ä–æ–∑–Ω–∏—á–Ω–∞—è —Å–µ—Ç—å –∏–ª–∏ –∑–∞–≤–æ–¥ ‚Üí —Ä–æ–∑–Ω–∏—á–Ω–∞—è —Å–µ—Ç—å ‚Üí –ò–ü
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–µ –∏ –≥–æ—Ä–æ–¥—É**
- **–û—á–∏—â–µ–Ω–∏–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É)**

---

## üß± –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python, Django, DRF
- PostgreSQL
- JWT (`djangorestframework-simplejwt`)
- `django-filter`, `drf-yasg`, `Pillow`
- Docker / Docker Compose
- Pytest / pytest-django

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/stasm-skypro/supply_node.git
cd supply_node
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ä—è–¥–æ–º —Å `compose.yaml`:

```env
SECRET_KEY=your_django_secret
DEBUG=True
ALLOWED_HOSTS=127.0.0.1,localhost

POSTGRES_DB=bulletin
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_HOST=db
POSTGRES_PORT=5432
```

### 3. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
docker compose up --build -d
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://127.0.0.1:8000`

### 4. –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
docker compose exec web python manage.py createsuperuser
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: —Å–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ —É–∂–µ –≤–∫–ª—é—á–µ–Ω—ã –∏
–ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ —ç—Ç–∞–ø–µ `docker compose up`. –≠—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤–Ω—É—Ç—Ä–∏ —Å–∫—Ä–∏–ø—Ç–∞ `entrypoint-web.sh`, –∫–æ—Ç–æ—Ä—ã–π
–æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `web`.

---

## üîó API

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger: [`/doc/`](http://127.0.0.1:8000/doc/)
- Redoc: [`/redoc/`](http://127.0.0.1:8000/redoc/)
- JSON Schema: [`/docjson/`](http://127.0.0.1:8000/docjson/)

---

## üì¶ –ú–æ–¥–µ–ª–∏

### `Node`

–û–±—ä–µ–∫—Ç—ã —Å–µ—Ç–∏: –∑–∞–≤–æ–¥—ã, –ò–ü, –º–∞–≥–∞–∑–∏–Ω—ã.
–ò–º–µ—é—Ç –ø–æ–ª—è: `name`, `email`, `supplier`, `debt_to_supplier`, `country`, `city` –∏ –¥—Ä.
–ü–æ–ª–µ `supplier` (–ø–æ—Å—Ç–∞–≤—â–∏–∫) - self-relation —Å—Å—ã–ª–∫–∞ –Ω–∞ —É–∑–µ–ª —Å–µ—Ç–∏ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–π –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏.

### `Product`

–ü—Ä–æ–¥—É–∫—Ç—ã, –ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–µ –∏–ª–∏ –ø—Ä–æ–¥–∞–≤–∞–µ–º—ã–µ —É–∑–ª–∞–º–∏ —Å–µ—Ç–∏.
–°–≤—è–∑–∞–Ω—ã —Å `Node` —á–µ—Ä–µ–∑ `owner`.

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–µ—Ç–∏ —Å —É—Ä–æ–≤–Ω—è–º–∏**

![–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–µ—Ç–∏ —Å —É—Ä–æ–≤–Ω—è–º–∏](assets/supply_chain.png)

–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –∏ API [–∑–¥–µ—Å—å](readme/DETAILS.md).

---

## üîê –†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø

| –†–æ–ª—å           | –î–æ—Å—Ç—É–ø –∫ API                       |
|----------------|------------------------------------|
| –ê–Ω–æ–Ω–∏–º–Ω—ã–π      | ‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞                      |
| –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π | ‚úÖ CRUD –¥–ª—è Node –∏ Product          |
| –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä  | ‚úÖ + admin-–ø–∞–Ω–µ–ª—å + –æ–±–Ω—É–ª–µ–Ω–∏–µ –¥–æ–ª–≥–∞ |

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `pytest` –∏ `pytest-django`.
- –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –≤–∫–ª—é—á–∞—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –º–æ–¥–µ–ª–µ–π, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏ –ª–æ–≥–∏–∫—É
  API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.

–ü–æ–∫—Ä—ã—Ç–∏–µ: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞, CRUD –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞.

---

## üß† –õ–æ–≥–∏–∫–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–µ—Ç—å —Å—Ç—Ä–æ–∏—Ç—Å—è –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞, –≥–¥–µ –∫–∞–∂–¥—ã–π —É–∑–µ–ª (`Node`) –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –æ–¥–Ω–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (`supplier`) –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ
–∫–ª–∏–µ–Ω—Ç–æ–≤.
–£—Ä–æ–≤–µ–Ω—å –∏–µ—Ä–∞—Ä—Ö–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≥–ª—É–±–∏–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏: –∑–∞–≤–æ–¥ (0), –ò–ü (1+), —Ä–æ–∑–Ω–∏—á–Ω–∞—è —Å–µ—Ç—å (2+).

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- –ì–∏–±–∫–æ—Å—Ç—å –ø—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑–µ —Ü–µ–ø–æ—á–µ–∫
- –û—Å–Ω–æ–≤–∞ –¥–ª—è –ª–æ–≥–∏—Å—Ç–∏–∫–∏, —Å–∫–∏–¥–æ–∫ –∏ —Ä–∞—Å—á—ë—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

---

## üí° –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

- –î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫: —Å–≤—è–∑–∞—Ç—å —Ç–æ–≤–∞—Ä/–¥–µ–Ω—å–≥–∏ –≤ —É–∑–ª–µ
- –†–∞—Å—á—ë—Ç—ã –¥–æ–ª–≥–æ–≤, –æ—Ç—á—ë—Ç—ã, –≥—Ä–∞—Ñ–∏–∫–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç—ë–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

---

## Naming

–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ **SupplyNode**
‚Üí –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–µ—Ç —É–∑–ª–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —Ü–µ–ø–æ—á–∫—É –ø–æ—Å—Ç–∞–≤–æ–∫ (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –ø–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–∏—Å—Ç–µ–º–∞, —Ç–∞–∫ –∏
–≤–Ω–µ—à–Ω—è—è B2B-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞).

–ï—Å–ª–∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç, –∫–∞–∫ —Å—Ç–∞—Ä—Ç–∞–ø –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–∏—Ç–∏—è, —Ç–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã "–±–æ–ª–µ–µ
–º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö" –Ω–∞–∑–≤–∞–Ω–∏–π:

**NexNode**
‚Üí –æ—Ç "Next Node" ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —É–∑–ª—ã —Å–µ—Ç–∏, –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É –∑–≤–µ–Ω—å—è–º–∏.

**NetVendor**
‚Üí –ó–≤–µ–Ω—å—è + –ø–æ—Å—Ç–∞–≤–∫–∏ (vendor), –∑–≤—É—á–∏—Ç –Ω–∞–¥—ë–∂–Ω–æ.

**SupplyNest**
‚Üí "–ì–Ω–µ–∑–¥–æ –ø–æ—Å—Ç–∞–≤–æ–∫" ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. "–ì–Ω–µ–∑–¥–æ" –Ω–µ –æ—á–µ–Ω—å –±–ª–∞–≥–æ–∑–≤—É—á–Ω–æ –¥–ª—è "—Ä—É—Å—Å–∫–æ–≥–æ" —É—Ö–∞, –Ω–æ –¥–ª—è
–∞–Ω–≥–ª–æ–≥–æ–≤–æ—Ä—è—â–µ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –≤–ø–æ–ª–Ω–µ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ.

---

## üßπ Pre-commit —Ö—É–∫–∏

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è pre-commit –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º.

### üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ pre-commit (–æ–¥–∏–Ω —Ä–∞–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ):

``pip install pre-commit``

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ö—É–∫–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

``pre-commit install``

–ß—Ç–æ–±—ã –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

``pre-commit run --all-files``

### üîç –ü–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ —Ö—É–∫–∏

- pre-commit-hooks
- check-added-large-files: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã
- check-merge-conflict: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ merge-–∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
- end-of-file-fixer: –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞
- trailing-whitespace: —É–¥–∞–ª—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã –≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫
- debug-statements: –±–ª–æ–∫–∏—Ä—É–µ—Ç print() –∏ pdb
- name-tests-test: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å test_

- **Black** ‚Äî –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Python-–∫–æ–¥–∞
- **isort** ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
- **Flake8** ‚Äî –ª–∏–Ω—Ç–∏–Ω–≥ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- **flake8**-bugbear
- **flake8**-comprehensions
- **Mypy** ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è migrations/
- –ü–æ–¥–∫–ª—é—á–µ–Ω—ã —Ç–∏–ø—ã –¥–ª—è requests –∏ django-stubs
- **pyupgrade** ‚Äî –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –¥–æ Python 3.11+

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ .pre-commit-config.yaml.
